{{/* home-page.html */}}
<style>
    .responsive-container {
        width: 80vw;
        margin: 0 auto;
        position: relative;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        justify-content: center;
        gap: 20px;
    }

    .research-list {
        width: 62%;
        /* background-color: #f0f0f0; */
    }

    .research-card {
        width: 100%;
        height: 180px;
        display: flex;
        /* background-color: antiquewhite; */
        /* border: solid 1px #000000; */
        /* margin-bottom: 1rem; */
    }

    .research-text {
        width: 60%;
        padding: 0 10px;
    }

    .research-text a {
        text-decoration: none;
        color: rgb(61, 61, 61);
    }

    .research-text a:hover {
        color: rgb(131, 131, 131);
    }

    .research-image {
        width: 40%;
        height: 100%;
        display: flex;
        align-items: center;
    }

    .research-image img {
        width: 100%;
        height: 80%;
        object-fit: contain;
        margin: 0 auto;
    }

    .award-news {
        width: 38%;
        /* background-color: aliceblue; */
    }

    .award-item {
        border-bottom: 1px solid rgb(185, 185, 185);
        height: 120px;
    }

    .award-item p {
        margin: 0 auto;
        font-weight: bold;
        /* padding: 10px; */
    }

    .pagination {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 20px;
        font-size: 1rem;
    }

    .pagination span {
        font-size: 1rem;
        font-weight: bold;
        color: #333;
        display: flex;
        align-items: center;
    }

    .pagination .page-button {
        padding: 5px 10px;  /* 较小的内边距 */
        cursor: pointer;
        font-weight: bold;
        font-size: 1rem;
        color: #333;
        transition: color 0.3s ease, transform 0.2s ease;
    }

    .pagination .page-button:hover {
        color: #4CAF50;  /* 鼠标悬停时改变颜色 */
        transform: scale(1.1);
    }

    .pagination .page-button.active {
        color: #4CAF50;  /* 当前页高亮 */
    }

    .pagination .ellipsis {
        font-weight: bold;
        color: #333;
    }

    #pageButtons {
        display: flex;
        /* gap: 5px; */
    }

    @media (max-width: 800px) {
        .responsive-container {
            width: 80vw;
            flex-direction: column;
            align-items: center;
        }

    }
</style>

<div>
    <div class="responsive-container">
        {{ .Inner }}
    </div>
    <div style="width: 80vw; margin: 0;position: relative;
        left: 50%;transform: translateX(-50%);font-size: 1.1rem; 
        text-indent: 2em;margin-top: 1rem;margin-bottom: 3rem;">
        <a href="/team/teacher/sunning/">孙宁</a>获得了一些奖励，如<b>吴文俊人工智能优秀青年奖、中国自动化学会优秀博
            士学位论文奖、吴文俊人工智能自然科学一等奖、天津市自然科学一等奖、天津市专利奖-金奖、天津市专利奖-创业奖、天津
            市知识产权创新创业发明与设计大赛一等奖</b>等，并入选<b>2019中国智能制造十大科技进展</b>。

        在学生培养方面，<a href="/team/teacher/sunning/">孙宁</a>指导学生获得了第五届中国"互联网+"大学生创新创业大赛全国总决赛金奖、
        第十一届中国青少年科技创新奖、"挑战杯"全国大学生课外学术科技作品竞赛一等奖、中国自动化学会（CAA）优秀硕士论文学位奖
        等重要奖项。基于此，<a href="/team/teacher/sunning/">孙宁</a>教授荣获<b>国家教学成果二等奖、天津市教学成果特等奖/
            一等奖</b>等，并荣获宝钢优秀教师奖。
    </div>
    <div class="responsive-container">
        <div class="research-list">
            <div style="display: flex; justify-content: space-between;">
                <h3 style="margin-top: 0px;">研究方向</h3>
                <a href="/url_test/research" style="margin: 5px 20px;">more</a>
            </div>
            {{ $item := (sort (where .Site.RegularPages "Section" "research") ".Params.place" "asc") }}
            {{ range first 3 $item }}
            {{ if eq .Params.type "docs" }}
            <div class="research-card">
                <div class="research-text">
                    <a href="{{ .RelPermalink }}">
                        <h4 style="font-size: 1.4rem; margin-top: 10px;">{{ .Title }}</h4>
                        <p
                            style="font-size: 1.1rem; text-indent: 2em; text-align: justify; text-overflow: ellipsis; overflow: hidden;">
                            {{ .Summary }}
                        </p>
                    </a>
                </div>
                <div class="research-image">
                    {{ $image := printf "%sfeatured.jpg" .RelPermalink }}
                    <img src="{{ $image }}" alt="{{ .Title }}">
                </div>
            </div>
            {{ end }}
            {{ end }}
        </div>
        <!-- 科研动态展示 -->

        <!-- <div class="award-news">
            <h3 style="margin-top: 0px;">科研动态</h3>
            {{ range sort .Site.Data.research_news "date" "desc" }}
            <div class="award-item">
                <h4 style="font-size: 1.2rem; margin-top: 0px;">{{ .title }}|{{ .date }}</h4>
            </div>
            {{ end }}
        </div> -->
        <div class="award-news">
            <div style="display: flex; justify-content: space-between;">
                <h3 style="margin-top: 0px;">科研动态</h3>
                <a href="/url_test/research_news" style="margin: 5px 20px;">more</a>
            </div>
            <!-- 动态内容容器 -->
            <div class="award-items">
                {{ range .Site.Data.research_news }}
                <div class="award-item">
                    <p style="font-size: 1.1rem; margin-top: 0px;">{{ .title }} | {{ .date }}</p>
                </div>
                {{ end }}
            </div>

            <!-- 分页按钮 -->
            <div class="pagination">
                <button id="prevBtn" onclick="changePage(-1)">上一页</button>
                <div id="pageButtons"></div>
                <button id="nextBtn" onclick="changePage(1)">下一页</button>
                <span id="pageNumber">第 1 页</span>
            </div>
        </div>
    </div>
</div>

<!-- 自定义分页脚本 -->
<script>
    const itemsPerPage = 4;  // 每页显示的条目数
    let currentPage = 1;
    const items = document.querySelectorAll('.award-item');
    const totalPages = Math.ceil(items.length / itemsPerPage);
    const maxPageButtons = 5;  // 最多显示5个页码按钮

    // 初始化显示页面内容
    function showPage(page) {
        const start = (page - 1) * itemsPerPage;
        const end = start + itemsPerPage;

        // 隐藏所有内容
        items.forEach(item => item.style.display = 'none');

        // 显示当前页内容
        for (let i = start; i < end && i < items.length; i++) {
            items[i].style.display = 'block';
        }

        // 更新按钮状态
        document.getElementById('prevBtn').disabled = page > 1 ? false : true;
        document.getElementById('nextBtn').disabled = page < totalPages ? false : true;

        // 更新页码显示
        document.getElementById('pageNumber').textContent = `第 ${page} 页`;

        // 更新页码按钮
        updatePageButtons();
    };

    // 更新页码按钮
    function updatePageButtons() {
        const pageButtonsContainer = document.getElementById('pageButtons');
        pageButtonsContainer.innerHTML = '';  // 清空现有的页码按钮

        let startPage, endPage;

        // 如果总页数小于等于最大显示的页码数，显示所有页码
        if (totalPages <= maxPageButtons) {
            startPage = 1;
            endPage = totalPages;
        } else {
            // 计算开始和结束页码
            if (currentPage <= 3) {
                startPage = 1;
                endPage = maxPageButtons;
            } else if (currentPage >= totalPages - 2) {
                startPage = totalPages - maxPageButtons + 1;
                endPage = totalPages;
            } else {
                startPage = currentPage - 2;
                endPage = currentPage + 2;
            }
        }

        // 生成页码按钮
        for (let i = startPage; i <= endPage; i++) {
            const button = document.createElement('button');
            button.textContent = i;
            button.classList.add('page-button');
            button.onclick = () => showPage(i);
            if (i === currentPage) {
                button.classList.add('active');  // 高亮当前页
            }
            pageButtonsContainer.appendChild(button);
        }

        // 如果页码中间有省略号，插入...
        if (endPage < totalPages) {
            const ellipsis = document.createElement('span');
            ellipsis.textContent = '...';
            ellipsis.classList.add('ellipsis');
            pageButtonsContainer.appendChild(ellipsis);
        }
    }


    // 切换页面
    function changePage(direction) {
        currentPage += direction;
        if (currentPage < 1) currentPage = 1;
        if (currentPage > totalPages) currentPage = totalPages;
        showPage(currentPage);
    }

    // 初始化时显示第一页
    showPage(currentPage);
</script>